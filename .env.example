# ========================================
# Quantum X Trading System - Environment Variables
# ========================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local or any file containing real secrets

# ========================================
# General
# ========================================
NODE_ENV=development
# Options: development | staging | production

# ========================================
# Backend Configuration
# ========================================
# API/WS listener ports (read by backend/src/index.ts)
API_PORT=3001
WS_PORT=3002
ENABLE_WEBSOCKET=false

# Local storage directories
DATA_DIR=./data
QX_DATA_DIR=./storage

# Host exposure port for docker-compose (optional)
BACKEND_PORT=3001

# Account credentials encryption (base64-encoded 32-byte key)
ACCOUNT_CREDENTIALS_KEY=

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# API authentication
# required: all non-public API/WS endpoints require key
# off: disable auth checks (local troubleshooting only)
API_AUTH_MODE=required

# Shared static key for local/dev bootstrap.
# In production, prefer managed API keys and keep this empty.
API_STATIC_KEY=qx_dev_local_key

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3008

# ========================================
# Frontend Configuration
# ========================================
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_WS_URL=ws://localhost:3002

# Frontend sends this key as Authorization Bearer token.
NEXT_PUBLIC_API_KEY=qx_dev_local_key

# AI provider routing (frontend + server runtime)
NEXT_PUBLIC_AI_PROVIDER=google
NEXT_PUBLIC_GOOGLE_AI_MODEL=gemini-2.0-flash
NEXT_PUBLIC_POE_MODEL=Claude-Sonnet-4
GOOGLE_AI_API_KEY=
POE_API_KEY_PRIMARY=
POE_API_KEY_SECONDARY=

# Feature Flags
NEXT_PUBLIC_ENABLE_PAPER_TRADING=true
NEXT_PUBLIC_ENABLE_LIVE_TRADING=false
NEXT_PUBLIC_ENABLE_COPY_TRADING=false

# ========================================
# Data Sources - Binance
# ========================================
# Market data provider
# binance: Binance REST/WS (may be geo-restricted in some regions)
# blockchain_info: blockchain.info BTC ticker (real API fallback)
MARKET_DATA_PROVIDER=binance

# Testnet API credentials (get from https://testnet.binance.vision/)
BINANCE_API_KEY=
BINANCE_API_SECRET=

# Set to true for testnet, false for production
# IMPORTANT: Always use testnet during development
BINANCE_TESTNET=true

# Optional: override Spot REST base (for restricted networks)
# Example: https://data-api.binance.vision
BINANCE_SPOT_REST_BASE_URL=

MARKET_SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT

# Binance URLs (auto-selected based on BINANCE_TESTNET):
# Production: https://api.binance.com, wss://stream.binance.com:9443
# Testnet:    https://testnet.binance.vision, wss://testnet.binance.vision

# ========================================
# Real Account Providers (Derivatives)
# ========================================
BINANCE_FUTURES_BASE_URL=https://fapi.binance.com
BINANCE_RECV_WINDOW=5000

OKX_BASE_URL=https://www.okx.com
OKX_TRADE_MODE=cross
OKX_RECV_WINDOW=5000

BYBIT_BASE_URL=https://api.bybit.com
BYBIT_ACCOUNT_TYPE=UNIFIED
BYBIT_RECV_WINDOW=5000

# ========================================
# Risk Management
# ========================================
# Maximum position size as percentage of portfolio
MAX_POSITION_SIZE_PCT=5

# Maximum portfolio drawdown before auto-stop
MAX_DRAWDOWN_PCT=10

# Daily loss limit as percentage of portfolio
DAILY_LOSS_LIMIT_PCT=2

# ========================================
# Monitoring & Logging
# ========================================
LOG_LEVEL=info
# Options: debug | info | warn | error

# Sentry (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ========================================
# Database (Future)
# ========================================
# DATABASE_URL=postgresql://user:password@localhost:5432/quantumx
# REDIS_URL=redis://localhost:6379

# ========================================
# Docker Compose Overrides
# ========================================
# Used when running with docker-compose
COMPOSE_PROJECT_NAME=quantum-x
